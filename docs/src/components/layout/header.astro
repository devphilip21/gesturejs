---
import SiteTitle from "./site-title.astro";
import ThemeToggle from "@/components/shared/theme-toggle.astro";
import Icon from "@/components/shared/icon.astro";

---

<header class="header">
  <div class="order-0">
    <SiteTitle />
  </div>
  <div class="header-actions">
    <ThemeToggle />
    <a
      href="https://github.com/devphilip21/cereb"
      target="_blank"
      rel="noopener noreferrer"
      class="header-link"
      aria-label="GitHub"
    >
      <Icon name="github" size="1.125rem" />
    </a>
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="cursor-pointer items-center hamburger-menu"
    >
      <svg id="show-button" viewBox="0 0 20 20" fill="currentColor">
        <title>Menu Open</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="hidden" viewBox="0 0 20 20" fill="currentColor">
        <title>Menu Close</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
  </div>
</header>

<style>
  .header {
    display: flex;
    width: 100%;
    padding: 0 var(--sl-nav-pad-x);
    justify-content: space-between;
    align-items: center;
    height: var(--sl-header-height);
    background: var(--sl-color-background);
    border-bottom: 1px solid var(--sl-color-hairline);
  }

  .header-actions {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .header-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border: 1.5px solid var(--sl-color-gray-3);
    border-radius: 50%;
    color: var(--sl-color-gray-2);
    transition: color 0.2s, border-color 0.2s;
  }

  .header-link:hover {
    color: var(--sl-color-white);
    border-color: var(--sl-color-gray-2);
  }

  .hamburger-menu {
    display: none;
    margin-right: -0.5rem;
    align-items: center;
    justify-content: center;
    width: var(--sl-header-height);
    height: var(--sl-header-height);
    cursor: pointer;
  }

  .hamburger-menu svg {
    width: 1.125rem;
    height: 1.125rem;
    color: var(--sl-color-gray-2);
  }

  .hamburger-menu:hover svg {
    color: var(--sl-color-white);
  }

  @media (max-width: 600px) {
    .hamburger-menu {
      display: flex;
    }
  }
</style>

<script>
  const header = document.querySelector(".header");

  window.onscroll = function () {
    if (
      document.body.scrollTop > 10 ||
      document.documentElement.scrollTop > 10
    ) {
      header?.classList.add("navbar-scrolled");
    } else {
      header?.classList.remove("navbar-scrolled");
    }
  };
</script>
